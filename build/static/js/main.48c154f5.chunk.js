(this.webpackJsonpphonebook=this.webpackJsonpphonebook||[]).push([[0],{22:function(e,t,n){},42:function(e,t,n){"use strict";n.r(t);var c=n(1),a=n.n(c),u=n(17),r=n.n(u),o=(n(22),n(4)),i=(n(8),n(0)),s=function(e){return Object(i.jsxs)("form",{onSubmit:e.onSubmit,children:[Object(i.jsxs)("div",{children:["Name: ",Object(i.jsx)("input",{value:e.personValue,onChange:e.onPersonChange,required:"required"})]}),Object(i.jsxs)("div",{children:["Number: ",Object(i.jsx)("input",{value:e.numberValue,onChange:e.onNumberChange,required:"required"})]}),Object(i.jsx)("div",{children:Object(i.jsx)("button",{name:"submit",type:"submit",children:"add"})})]})},l=function(e){return Object(i.jsx)("p",{className:"inline",children:"".concat(e.name," - ").concat(e.number)})},d=function(e){var t=e.filtered;return Object(i.jsxs)("div",{children:[Object(i.jsx)("h1",{children:" Filter "}),"Search: ",Object(i.jsx)("input",{className:"inline",value:e.filterValue,onChange:e.onFilterChange}),t?t.map((function(e){return Object(i.jsx)("p",{children:"".concat(e.name," - ").concat(e.number," ")},e.id)})):Object(i.jsx)("p",{children:"Loading..."})]})},j=n(3),m=n.n(j),b="/api/persons",f=function(e){return m.a.get(b+"?name_like=".concat(e)).then((function(e){return e.data}))},h=function(e){return m.a.post(b,e).then((function(e){return e.data}))},O=function(e){return m.a.delete(b+"/".concat(e)).then((function(e){return e.data}))},p=function(e,t){return m.a.put("".concat(b,"/").concat(e),t).then((function(e){return e.data}))},g=function(e){var t=e.contactName,n=e.tag,c=e.message;return null===n?Object(i.jsx)("div",{}):"Success"===n?Object(i.jsx)("div",{className:"notification success",children:"".concat(t," ").concat(c)}):"Error"===n?Object(i.jsx)("div",{className:"notification",children:Object(i.jsxs)("p",{className:"error",children:[" ",t," ",c," "]})}):void 0},x=function(e){return Object(i.jsx)("button",{className:"delete",onClick:function(){window.confirm("Are sure you want to delete ".concat(e.name,"?"))&&O(e.id).then((function(){var t={contactName:e.name,tag:"Success",message:"succesfully deleted!"};e.updateNotif(t),setTimeout((function(){e.updateNotif(null)}),5e3)})).catch((function(){var t={contactName:e.name,tag:"Error",message:"was already deleted to the server!"};e.updateNotif(t),setTimeout((function(){e.updateNotif(null)}),5e3)}))},children:"Delete"})};var v=function(){var e=Object(c.useState)([]),t=Object(o.a)(e,2),n=t[0],a=t[1],u=Object(c.useState)(null),r=Object(o.a)(u,2),j=r[0],b=r[1],O=Object(c.useState)(""),v=Object(o.a)(O,2),N=v[0],S=v[1],w=Object(c.useState)(""),C=Object(o.a)(w,2),y=C[0],k=C[1],E=Object(c.useState)(null),V=Object(o.a)(E,2),T=V[0],q=V[1],F=Object(c.useState)(null),P=Object(o.a)(F,2),D=P[0],J=P[1];return Object(c.useEffect)((function(){m.a.get("../api/persons").then((function(e){var t=e.data;a(t)}))}),[n]),Object(c.useEffect)((function(){f(T).then((function(e){b(e)}))}),[T]),Object(i.jsxs)("div",{children:[Object(i.jsx)(d,{filterValue:T,onFilterChange:function(e){return q(e.target.value)},filtered:j}),D?Object(i.jsx)(g,{tag:D.tag,message:D.message,contactName:D.contactName}):null,Object(i.jsx)("h2",{children:"Phonebook"}),Object(i.jsx)(s,{onSubmit:function(e){e.preventDefault();var t={number:y,name:N},c=n.find((function(e){return e.name===t.name}));c?window.confirm("".concat(N," is already added to the phonebook, replace the old number with a new one?"))&&p(c.id,t).then((function(e){a(n.map((function(t){return t.id!==c.id?t:e}))),J({contactName:N,tag:"Success",message:"succesfully updated!"}),setTimeout((function(){J(null)}),5e3)})).catch((function(){J({contactName:N,tag:"Error",message:"was already deleted to the server!"}),setTimeout((function(){J(null)}),5e3)})):(h(t).then((function(e){return a(n.concat(e))})).then((function(){J({contactName:N,tag:"Success",message:"succesfully added!"}),setTimeout((function(){J(null)}),5e3)})),S(""),k(""))},personValue:N,onPersonChange:function(e){return S(e.target.value)},numberValue:y,onNumberChange:function(e){return k(e.target.value)}}),Object(i.jsx)("h2",{children:"Numbers"}),n.map((function(e){return Object(i.jsxs)("div",{classname:"margin-bottom-10px",children:[Object(i.jsx)(l,{name:e.name,number:e.number}),Object(i.jsx)(x,{id:e.id,name:e.name,updateNotif:function(e){return J(e)}})]},e.id)}))]})};r.a.render(Object(i.jsx)(a.a.StrictMode,{children:Object(i.jsx)(v,{})}),document.getElementById("root"))},8:function(e,t,n){}},[[42,1,2]]]);
//# sourceMappingURL=main.48c154f5.chunk.js.map